<template><el-table :data="list"><el-table-column prop="activity.title" label="活动"/><el-table-column prop="fileName" label="文件"/><el-table-column label="状态"><template #default="s"><el-tag :type="s.row.status==='approved'?'success':s.row.status==='rejected'?'danger':'warning'">{{s.row.status}}</el-tag></template></el-table-column><el-table-column prop="reviewNote" label="驳回原因"/><el-table-column><template #default="s"><el-button @click="download(s.row.id)">下载</el-button></template></el-table-column></el-table></template>
<script setup lang="ts">import { onMounted, ref } from 'vue';import { http } from '../../api/http';const list=ref<any[]>([]);onMounted(async()=>{list.value=(await http.get('/me/submissions')).data.data;});const download=(id:string)=>window.open((import.meta.env.VITE_API_BASE_URL||'/api').replace('/api','')+`/api/files/${id}`);</script>
